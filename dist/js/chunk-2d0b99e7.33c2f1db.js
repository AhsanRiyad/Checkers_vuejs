(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b99e7"],{"345e":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"posted__list",attrs:{"drafted-jobs":t.draftedJobs}},[s("v-container",[s("v-row",{attrs:{justify:"center"}},[s("v-col",{attrs:{cols:"12",md:"12"}},[s("v-card",{staticClass:"ja__card pt-0",attrs:{flat:""}},[s("div",{staticClass:"jobActivity"},[s("v-row",[s("v-col",{attrs:{cols:"12",lg:"4"}},[s("h2",{staticClass:"jaif"},[t._v("Total Drafted Job: "),s("span",[t._v(t._s(t.totalJobs))])])])],1)],1),s("div",{staticStyle:{"overflow-x":"auto !important"}},[s("table",[s("thead",[s("tr",{staticClass:"panel-heading"},[s("th",[t._v("Sl")]),s("th",{staticStyle:{width:"35%"}},[t._v("Job Title")]),s("th",[s("v-icon",[t._v("mdi-bell-ring")]),t._v(" Job Status ")],1),s("th",[s("v-icon",[t._v("mdi-file-multiple-outline")]),t._v(" Application ")],1),s("th",{staticClass:"text-center"},[s("v-icon",[t._v("mdi-format-list-bulleted")]),t._v(" Short-listed ")],1),s("th",{staticClass:"text-center"},[t._v("Actions")])])]),s("tbody",[s("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.loading,callback:function(a){t.loading=a},expression:"loading"}},[s("v-card",{attrs:{color:"primary",dark:""}},[s("v-card-text",[t._v(" Loading Data... "),s("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),t._l(t.draftedJobs,(function(a,e){return s("tr",{key:e},[s("td",[s("p",[t._v(t._s(e+1))])]),s("td",[s("a",{staticClass:"text-capitalize",on:{click:function(s){return t.goToJobDetails(a.id)}}},[t._v(t._s(a.job_title))]),s("p",{staticClass:"mb-0"},[s("small",[t._v("Published On:"),a.live_at?s("span",{staticClass:"ml-1"},[t._v(" "+t._s(t.getHumanDate(a.live_at)))]):s("span",{staticClass:"ml-1"},[t._v("Not Yet")])])]),s("p",{staticClass:"mb-0"},[s("small",[t._v("Deadline:"),a.end_at?s("span",{staticClass:"ml-1"},[t._v(t._s(t.getHumanDate(a.end_at)))]):s("span",{staticClass:"ml-1"},[t._v("Not Yet")])])])]),s("td",[s("v-switch",{attrs:{color:"success","input-value":1==a.job_status,"hide-details":""},on:{click:function(a){return a.stopPropagation(),t.jobLive(a)}}})],1),s("td",[t._v(t._s(a.applicant))]),s("td",{staticClass:"text-center"},[t._v(t._s(a.shortlisted))]),s("td",{staticClass:"action text-center"},[s("v-btn",{staticClass:"interactn c-grey",attrs:{id:"edit_btn",disabled:1==a.job_status,icon:""}},[s("v-icon",[t._v("mdi-square-edit-outline")])],1),s("v-btn",{staticClass:"interactn  mr-2 ml-2 c-green",attrs:{disabled:1==a.job_status,icon:""}},[s("v-icon",[t._v("mdi-backup-restore")])],1)],1)])}))],2)])]),s("div",{staticClass:"pagination"},[s("v-pagination",{attrs:{length:t.length},model:{value:t.pageNo,callback:function(a){t.pageNo=a},expression:"pageNo"}})],1)])],1)],1)],1)],1)},i=[],o=(s("d3b7"),s("bc3a")),n=s.n(o),r=s("c1df"),l=s.n(r),c={name:"DraftedJobs",data:function(){return{draftedJobs:[],pageNo:1,length:0,loading:!0}},computed:{totalJobs:function(){return this.draftedJobs&&this.draftedJobs.length}},created:function(){this.getDraftedJobs()},methods:{getHumanDate:function(t){return l()(t,"YYYY-MM-DD").format("MMM Do YY")},goToJobDetails:function(t){this.$router.push({name:"JobDetails",params:{id:t}})},jobLive:function(t){var a=this;if(t&&t.preventDefault(),null!=this.$cookies.get("accessToken")){var s={Authorization:"Bearer "+this.$cookies.get("accessToken"),"Content-Type":"application/json",Accept:"application/json"};n()({method:"put",baseURL:this.$store.state.apiBase,url:"jobs/".concat(this.jobId,"/live"),data:{},headers:s}).then((function(t){if(206==t.status)return a.$router.history.push("/subscription"),void a.$awn.alert("Your job is not lived");a.$awn.success("Your job have successfully lived!"),a.getPostedJobs()})).catch((function(t){if(a.$awn.alert("Failed!"),409!=t.response.status)return 423==t.response.status?(a.$awn.alert("Your subscribe is not completed"),void a.$router.history.push("/subscription")):void 0;a.$awn.alert("This Job already Lived")})).finally((function(){a.loadingAppliedJob=!1}))}else this.$router.history.push("/signin")},getDraftedJobs:function(){var t=this,a={Authorization:"Bearer "+this.$cookies.get("accessToken"),"Content-Type":"application/json",Accept:"application/json"};n()({baseURL:this.$store.state.apiBase,url:"jobs/drafts-job",method:"get",params:{page:this.pageNo},data:{},headers:a}).then((function(a){t.draftedJobs=a.data.data.job.items;for(var s=0;s<t.draftedJobs.length;s++)t.jobId=t.draftedJobs[s].id;t.loading=!1,t.length=Math.round(a.data.total_count/a.data.num_items_per_page)})).catch((function(a){t.draftedJobs=[],t.$awn.alert("Failed")})).finally((function(){0===t.draftedJobs.length&&(t.ShowAlertMsg=!0)}))}}},d=c,u=s("2877"),p=s("6544"),v=s.n(p),b=s("8336"),h=s("b0af"),f=s("99d9"),_=s("62ad"),g=s("a523"),m=s("169a"),C=s("132d"),J=s("891e"),j=s("8e36"),w=s("0fd9"),y=s("b73d"),D=Object(u["a"])(d,e,i,!1,null,"f7028f84",null);a["default"]=D.exports;v()(D,{VBtn:b["a"],VCard:h["a"],VCardText:f["b"],VCol:_["a"],VContainer:g["a"],VDialog:m["a"],VIcon:C["a"],VPagination:J["a"],VProgressLinear:j["a"],VRow:w["a"],VSwitch:y["a"]})}}]);
//# sourceMappingURL=chunk-2d0b99e7.33c2f1db.js.map